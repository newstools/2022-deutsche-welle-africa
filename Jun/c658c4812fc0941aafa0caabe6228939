The police response to the Uvalde school shooting on May 24 was "an abject failure," Texas Department of Public Safety (DPS) director Steven McCraw said on Tuesday. Nineteen children and two teachers were killed in the shooting at Robb Elementary School in the southwestern town of Uvalde in the US state of Texas. McCraw spoke at a Texas Senate hearing into the shooting, saying that the onsite commander made "terrible decisions." He added that officers on the scene lacked sufficient training. "There is compelling evidence that the law enforcement response to the attack at Robb Elementary was an abject failure and antithetical to everything we've learned," McCraw said. Many relatives of the schoolchildren and staff have expressed anger over police actions after the gunman entered the school. McCraw said that officers spent time searching for the key to a door that was not locked. "There's no way ... for the subject to lock the door from the inside," he said. McCraw went on to say that officers waited over an hour in a hallway outside two classrooms before a Border Patrol-led tactical team made entry. "The officers had weapons, the children had none. The officers had body armor, the children had none. The officers had training, the subject had none," McCraw said. "The only thing stopping a hallway of dedicated officers from entering Room 111, and 112, was the on-scene commander, who decided to place the lives of officers before the lives of children," he concluded. Meanwhile, Uvalde Mayor Don McLaughlin said that the Uvalde County district attorney had asked the city not to release records related to the district attorney's probe into the shooting. The statement added that the district attorney and the DPS have not provided the city with any information on the probe. US Senate lawmakers reached agreement on a bipartisan gun violence bill Tuesday in response to mass shootings in Uvalde and elsewhere. Democratic Senator Chris Murphy and Republican John Cornyn told reporters that a final agreement had been reached. Lawmakers had agreed to a framework proposal nine days ago. The bill would toughen background checks for young firearms buyers, require more sellers to conduct background checks and increase penalties on gun traffickers. It will also provide states and communities with funds aimed at improving school safety and mental health initiatives. The bill would prohibit people convicted of domestic violence and not married to their victim from acquiring firearms. It will also provide funds to states that have "red flag" laws or violence prevention programs. Funding or red flag programs had long been a contentious issue for Republicans. Democrats agreed to extend funding to other crisis intervention programs in exchange for bipartisan support for the bill. sdi/wd (AP, AFP, Reuters)